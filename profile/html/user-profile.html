<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>User Profile - Beauty & Blessed</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>

  <style>
    :root {
      --primary-pink: #f6a7c1;
      --light-pink: #f9cdda;
      --gold: #d4af37;
      --light-gold: #f6e27f;
      --dark-gray: #333;
      --white: #fff;
    }

    body {
      background: linear-gradient(135deg, var(--light-pink) 0%, #fff5f8 100%);
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px 15px;
    }

    .profile-container {
      background: var(--white);
      border-radius: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      padding: 50px;
      width: 500px;
      position: relative;
      text-align: center;
      border: 3px solid var(--gold);
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    .exit-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--dark-gray);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(212,175,55,0.4);
    }

    .exit-btn:hover {
      background: var(--light-gold);
      color: var(--primary-pink);
      transform: scale(1.05);
    }

    .profile-pic-container {
      position: relative;
      display: inline-block;
      margin-top: 20px;
    }

    .profile-pic {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--gold);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    .edit-icon {
      position: absolute;
      bottom: 5px;
      right: 8px;
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--dark-gray);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 3px 10px rgba(212,175,55,0.4);
    }

    .edit-icon:hover {
      background: var(--light-gold);
      color: var(--primary-pink);
    }

    .user-name {
      font-size: 1.6rem;
      font-weight: 600;
      color: var(--primary-pink);
      margin-top: 15px;
    }

    .profile-actions {
      margin-top: 35px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .profile-btn {
      border: none;
      border-radius: 14px;
      padding: 14px;
      background: linear-gradient(135deg, var(--primary-pink), var(--light-pink));
      color: var(--white);
      font-weight: 500;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(246,167,193,0.3);
    }

    .profile-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
      color: var(--gold);
    }

    input[type="file"] { display: none; }

    @media (max-width: 768px) {
      body { padding: 10px; align-items: flex-start; }
      .profile-container { width: 100%; border-radius: 0; padding: 25px 20px 60px; border: none; box-shadow: none; animation: none; }
      .profile-pic { width: 100px; height: 100px; }
      .edit-icon { width: 28px; height: 28px; }
      .user-name { font-size: 1.2rem; }
      .profile-btn { font-size: 0.95rem; padding: 10px; border-radius: 10px; }
    }
  </style>
</head>
<body>

  <div class="profile-container">
    <button class="exit-btn" onclick="window.history.back()">
      <i class="fa-solid fa-arrow-left"></i>
    </button>

    <div class="profile-pic-container">
      <img src="https://via.placeholder.com/150" alt="User Picture" id="userPic" class="profile-pic">
      <label for="uploadPic" class="edit-icon"><i class="fa-solid fa-camera"></i></label>
      <input type="file" id="uploadPic" accept="image/*">
    </div>

    <div class="user-name" id="userName">Guest</div>

    <div class="profile-actions">
      <button class="profile-btn"><i class="fa-solid fa-box-archive me-2"></i>Order History</button>
      <button class="profile-btn"><i class="fa-solid fa-star me-2"></i>Review Orders / Rating</button>
      <button class="profile-btn"><i class="fa-solid fa-clipboard-list me-2"></i>List of All Reviews</button>
      <button class="profile-btn"><i class="fa-solid fa-heart me-2"></i>Customer Preferences</button>
      <button class="profile-btn" onclick="window.location.href='home.html'"><i class="fa-solid fa-house me-2"></i>Home / Landing Page</button>
      <button class="profile-btn" onclick="signOut()"><i class="fa-solid fa-right-from-bracket me-2"></i>Sign Out</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Fetch user data from PHP
    fetch('user_profile.php')
      .then(res => res.json())
      .then(data => {
        document.getElementById('userName').textContent = data.full_name;
        document.getElementById('userPic').src = data.profile_pic;
      })
      .catch(() => {
        document.getElementById('userName').textContent = "Guest";
      });

    // Editable profile picture
    const uploadPic = document.getElementById('uploadPic');
    const userPic = document.getElementById('userPic');
    uploadPic.addEventListener('change', function() {
      const file = this.files[0];
      if(file){
        const reader = new FileReader();
        reader.onload = e => userPic.src = e.target.result;
        reader.readAsDataURL(file);
      }
    });

    function signOut() {
      alert("You have been signed out successfully.");
      window.location.href = "login.php";
    }
  </script>
</body>
</html>
